\section{User Class Reference}
\label{classUser}\index{User@{User}}


the OWL-\/PHP user object  


Inheritance diagram for User:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{classUser}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
{\bf \_\-\_\-destruct} ()
\item 
{\bf login} (\$username, \$password)
\item 
{\bf logout} (\$resetStatus=true)
\item 
{\bf hasRight} (\$bit, \$appl)
\item 
{\bf isLoggedIn} ()
\item 
{\bf getUsername} ()
\item 
{\bf getUserId} ()
\item 
{\bf getSessionId} ()
\item 
{\bf setSessionVar} (\$var, \$val=0, \$flg={\bf SESSIONVAR\_\-SET})
\item 
{\bf getSessionVar} (\$var, \$default=null)
\item 
{\bf getStatus} ()
\item 
{\bf getSeverity} (\$status=null)
\item 
{\bf succeeded} (\$\_\-ok={\bf OWL\_\-SUCCESS}, \&\$\_\-object=null)
\item 
{\bf signal} (\$level={\bf OWL\_\-INFO}, \&\$text=false)
\item 
{\bf traceback} (\&\$text=false, \$depth=0)
\end{DoxyCompactItemize}
\subsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
static {\bf passwordStrength} (\$\_\-pwd, \$\_\-compare=array())
\end{DoxyCompactItemize}
\subsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
{\bf construct} (\$username=null)
\item 
{\bf register} (\$username, \$email, \$password, \$vpassword, \$group=0)
\item 
{\bf confirm} (array \$\_\-confirmation)
\item 
{\bf init} ()
\item 
{\bf setCallback} (\$\_\-dispatcher)
\item 
{\bf setCallbackArgument} (array \$\_\-arg)
\item 
{\bf getCallback} ()
\item 
{\bf reset} ()
\item 
{\bf saveStatus} ()
\item 
{\bf restoreStatus} ()
\item 
{\bf check} (\&\$object, \$level={\bf OWL\_\-WARNING})
\item 
{\bf setStatus} (\$status, \$params=array())
\item 
{\bf setHighSeverity} (\&\$object=null)
\end{DoxyCompactItemize}
\subsection*{Protected Attributes}
\begin{DoxyCompactItemize}
\item 
{\bf \$severity}
\end{DoxyCompactItemize}
\subsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
{\bf clearUser} (\$newSession=false)
\item 
{\bf newUser} ()
\item 
{\bf saveUser} ()
\item 
{\bf restoreUser} ()
\item 
{\bf readUserdata} ()
\item 
{\bf hashPassword} (\$password)
\item 
{\bf usernameExists} (\$username)
\item 
{\bf getMemberships} ()
\end{DoxyCompactItemize}
\subsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
{\bf \$session}
\item 
{\bf \$dataset}
\item 
{\bf \$group}
\item 
{\bf \$memberships}
\item 
{\bf \$user\_\-data}
\item 
{\bf \$rights}
\end{DoxyCompactItemize}


\subsection{Detailed Description}
the OWL-\/PHP user object 

This class handles the \doxyref{OWL}{p.}{classOWL} users \begin{DoxyAuthor}{Author}
Oscar van Eijk, Oveas Functionality Provider 
\end{DoxyAuthor}
\begin{DoxyVersion}{Version}
Aug 27, 2008 -\/-\/ O van Eijk -\/-\/ initial version 
\end{DoxyVersion}


\subsection{Constructor \& Destructor Documentation}
\index{User@{User}!\_\-\_\-destruct@{\_\-\_\-destruct}}
\index{\_\-\_\-destruct@{\_\-\_\-destruct}!User@{User}}
\subsubsection[{\_\-\_\-destruct}]{\setlength{\rightskip}{0pt plus 5cm}User::\_\-\_\-destruct (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\label{classUser_accd20149a7414612c1505e022eb63ffc}
When a run ends, write the sessiondata 

Reimplemented from {\bf \_\-OWL} \doxyref{}{p.}{class__OWL_a44fd2222476a3109286cc82d92b6bbcc}.



References saveUser().



\subsection{Member Function Documentation}
\index{User@{User}!check@{check}}
\index{check@{check}!User@{User}}
\subsubsection[{check}]{\setlength{\rightskip}{0pt plus 5cm}\_\-OWL::check (
\begin{DoxyParamCaption}
\item[{\&\$}]{object, }
\item[{\$}]{level = {\ttfamily {\bf OWL\_\-WARNING}}}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  [protected, inherited]}}\label{class__OWL_ae2e3c56e5f3c4ce4156c6b1bb1c50f63}
This is a helper function for lazy developers. Some checks have to be made quite often, this is a kinda macro to handle that. It compares the own severity level with that of a given object. If the highest level is above a given max, a traceback and reset are performed.


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em \$object} & Pointer to an object to check against \\
\hline
\mbox{\tt in}  & {\em \$level} & The maximum severity level \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
True if the severity level was correct (below the max), otherwise false 
\end{DoxyReturn}


References \_\-OWL::reset(), \_\-OWL::setHighSeverity(), and \_\-OWL::traceback().



Referenced by SessionHandler::write().

\index{User@{User}!clearUser@{clearUser}}
\index{clearUser@{clearUser}!User@{User}}
\subsubsection[{clearUser}]{\setlength{\rightskip}{0pt plus 5cm}User::clearUser (
\begin{DoxyParamCaption}
\item[{\$}]{newSession = {\ttfamily false}}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  [private]}}\label{classUser_aba4085a6e4105c8e0f53246a6f45f4f9}
Cleanup the existing user environment 
\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em \$newSession} & Boolean set to true when a new session must be created \\
\hline
\end{DoxyParams}


Referenced by login(), and logout().

\index{User@{User}!confirm@{confirm}}
\index{confirm@{confirm}!User@{User}}
\subsubsection[{confirm}]{\setlength{\rightskip}{0pt plus 5cm}User::confirm (
\begin{DoxyParamCaption}
\item[{array \$}]{\_\-confirmation}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  [protected]}}\label{classUser_acbcc13f994e50ee3f562e9949f6d0638}
Confirm a user registration. 
\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em \$\_\-confirmation} & Array that must contain at least the keys 'uid' and 'vcode' \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
True on success, false on failure 
\end{DoxyReturn}


References \_\-OWL::setStatus().

\index{User@{User}!construct@{construct}}
\index{construct@{construct}!User@{User}}
\subsubsection[{construct}]{\setlength{\rightskip}{0pt plus 5cm}User::construct (
\begin{DoxyParamCaption}
\item[{\$}]{username = {\ttfamily null}}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  [protected]}}\label{classUser_a9cf024c7e3148e45afd1bee7691ceefd}
Class constructor; create a new user environment. This is not a regular constructor, since it's up to the application to decide if this is a normal object or a singleton.


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em \$username} & Username when logged in. Default username is 'anonymous' \\
\hline
\end{DoxyParams}


References ConfigHandler::get(), getUserId(), \_\-OWL::init(), newUser(), restoreUser(), OWLCache::set(), and \_\-OWL::succeeded().

\index{User@{User}!getCallback@{getCallback}}
\index{getCallback@{getCallback}!User@{User}}
\subsubsection[{getCallback}]{\setlength{\rightskip}{0pt plus 5cm}\_\-OWL::getCallback (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  [protected, inherited]}}\label{class__OWL_acb46ff88f43ca66f1268d3f5199c3f8d}
Retrieve a previously set (callback) dispatcher. The (callback) dispatcher is cleared immediatly. \begin{DoxyReturn}{Returns}
The dispatcher, of null on failure. 
\end{DoxyReturn}


Reimplemented in {\bf Dispatcher} \doxyref{}{p.}{classDispatcher_a31c4bd4e4eaee7ef90b1ea364a901447}.



References OWL::factory().

\index{User@{User}!getMemberships@{getMemberships}}
\index{getMemberships@{getMemberships}!User@{User}}
\subsubsection[{getMemberships}]{\setlength{\rightskip}{0pt plus 5cm}User::getMemberships (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  [private]}}\label{classUser_a8eb10dd2a2bae8101560be21baf0d2fc}
Get the list of all objects this user is member of 

References \$dataset, ConfigHandler::get(), and getUserId().



Referenced by newUser().

\index{User@{User}!getSessionId@{getSessionId}}
\index{getSessionId@{getSessionId}!User@{User}}
\subsubsection[{getSessionId}]{\setlength{\rightskip}{0pt plus 5cm}User::getSessionId (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\label{classUser_add04326316156848d19f3c7085513fe9}
Return the current session ID

\begin{DoxyReturn}{Returns}
the session ID 
\end{DoxyReturn}
\index{User@{User}!getSessionVar@{getSessionVar}}
\index{getSessionVar@{getSessionVar}!User@{User}}
\subsubsection[{getSessionVar}]{\setlength{\rightskip}{0pt plus 5cm}User::getSessionVar (
\begin{DoxyParamCaption}
\item[{\$}]{var, }
\item[{\$}]{default = {\ttfamily null}}
\end{DoxyParamCaption}
)}\label{classUser_a60d4f0369fc769ee340d66c3081d978d}
Get a session variable


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em \$var} & Variable name \\
\hline
\mbox{\tt in}  & {\em \$default} & Default value to return if the variable was not set (default null) \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The value from the session, null if not set 
\end{DoxyReturn}


Referenced by getUserId(), and restoreUser().

\index{User@{User}!getSeverity@{getSeverity}}
\index{getSeverity@{getSeverity}!User@{User}}
\subsubsection[{getSeverity}]{\setlength{\rightskip}{0pt plus 5cm}\_\-OWL::getSeverity (
\begin{DoxyParamCaption}
\item[{\$}]{status = {\ttfamily null}}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  [inherited]}}\label{class__OWL_a2374613f9bb7eccf49a5dbc9a9ef4751}
Get the current object severity level.


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em \$status} & An optional parameter to check an other status code i.s.o the object's current status. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Status severity level 
\end{DoxyReturn}


References \_\-OWL::\$status.



Referenced by LogHandler::composeMessage(), LogHandler::log(), and DataHandler::setKey().

\index{User@{User}!getStatus@{getStatus}}
\index{getStatus@{getStatus}!User@{User}}
\subsubsection[{getStatus}]{\setlength{\rightskip}{0pt plus 5cm}\_\-OWL::getStatus (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  [final, inherited]}}\label{class__OWL_ac1f1643ff5b5db7c326c30477603358d}
Get the current object status.

\begin{DoxyReturn}{Returns}
Object's status code 
\end{DoxyReturn}


Referenced by SchemeHandler::compare().

\index{User@{User}!getUserId@{getUserId}}
\index{getUserId@{getUserId}!User@{User}}
\subsubsection[{getUserId}]{\setlength{\rightskip}{0pt plus 5cm}User::getUserId (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\label{classUser_a842606f37f63f53df58430db6e344b0f}
Return the userID of the current session 

References getSessionVar().



Referenced by construct(), getMemberships(), and readUserdata().

\index{User@{User}!getUsername@{getUsername}}
\index{getUsername@{getUsername}!User@{User}}
\subsubsection[{getUsername}]{\setlength{\rightskip}{0pt plus 5cm}User::getUsername (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\label{classUser_aea1f51a8f3da9bc8be76928866ec951f}
Return the username of the current session \index{User@{User}!hashPassword@{hashPassword}}
\index{hashPassword@{hashPassword}!User@{User}}
\subsubsection[{hashPassword}]{\setlength{\rightskip}{0pt plus 5cm}User::hashPassword (
\begin{DoxyParamCaption}
\item[{\$}]{password}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  [private]}}\label{classUser_ae4fd2c77120152b487adea01b8c7f95f}
Encrypt a given password


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em \$password} & Given password in plain text format \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The encrypted password 
\end{DoxyReturn}


References ConfigHandler::get().



Referenced by login(), and register().

\index{User@{User}!hasRight@{hasRight}}
\index{hasRight@{hasRight}!User@{User}}
\subsubsection[{hasRight}]{\setlength{\rightskip}{0pt plus 5cm}User::hasRight (
\begin{DoxyParamCaption}
\item[{\$}]{bit, }
\item[{\$}]{appl}
\end{DoxyParamCaption}
)}\label{classUser_abc7f455a8193fbf4d4b3717cbac1ec2f}
Check if a rightsbit has been set for this user 
\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em \$bit} & Rightsbit to check \\
\hline
\mbox{\tt in}  & {\em \$appl} & ID of the application the bit belongs to \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Boolean; true when the bit is set 
\end{DoxyReturn}
\index{User@{User}!init@{init}}
\index{init@{init}!User@{User}}
\subsubsection[{init}]{\setlength{\rightskip}{0pt plus 5cm}\_\-OWL::init (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  [protected, inherited]}}\label{class__OWL_ae0ef3ded56e8a6b34b6461e5a721cd3e}
This function should be called by all constuctors. It initializes the general characteristics. Status is 'warning' by default, it's up to the contructor to set a proper status; if it's still 'warning', this $\ast$might$\ast$ indicate something went wrong. 

References OWL::factory(), and \_\-OWL::setStatus().



Referenced by FormFieldPlugin::\_\-\_\-construct(), Tablerow::\_\-\_\-construct(), Tablecell::\_\-\_\-construct(), Table::\_\-\_\-construct(), Document::\_\-\_\-construct(), ContainerPlugin::\_\-\_\-construct(), Container::\_\-\_\-construct(), SessionHandler::\_\-\_\-construct(), SchemeHandler::\_\-\_\-construct(), LogHandler::\_\-\_\-construct(), ImageHandler::\_\-\_\-construct(), FormHandler::\_\-\_\-construct(), FileHandler::\_\-\_\-construct(), DbHandler::\_\-\_\-construct(), DataHandler::\_\-\_\-construct(), OWL::\_\-\_\-construct(), Group::\_\-\_\-construct(), Form::\_\-\_\-construct(), Dispatcher::\_\-\_\-construct(), and construct().

\index{User@{User}!isLoggedIn@{isLoggedIn}}
\index{isLoggedIn@{isLoggedIn}!User@{User}}
\subsubsection[{isLoggedIn}]{\setlength{\rightskip}{0pt plus 5cm}User::isLoggedIn (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\label{classUser_ac1eeb3fabf0d0398ba60d537316c3bbe}
Check is the current user is logged in \begin{DoxyReturn}{Returns}
True when logged in 
\end{DoxyReturn}


References ConfigHandler::get().

\index{User@{User}!login@{login}}
\index{login@{login}!User@{User}}
\subsubsection[{login}]{\setlength{\rightskip}{0pt plus 5cm}User::login (
\begin{DoxyParamCaption}
\item[{\$}]{username, }
\item[{\$}]{password}
\end{DoxyParamCaption}
)}\label{classUser_a2c4fae5935ebf84e787126795bf42988}
Log in


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em \$username} & Given username. Might be taken from the session as well, but given as a parameter here to suppress the E\_\-STRICT Declaration warning \\
\hline
\mbox{\tt in}  & {\em \$password} & The user provided password \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
True on success, False otherwise 
\end{DoxyReturn}


References clearUser(), ConfigHandler::get(), hashPassword(), logout(), newUser(), \_\-OWL::setStatus(), and \_\-OWL::traceback().

\index{User@{User}!logout@{logout}}
\index{logout@{logout}!User@{User}}
\subsubsection[{logout}]{\setlength{\rightskip}{0pt plus 5cm}User::logout (
\begin{DoxyParamCaption}
\item[{\$}]{resetStatus = {\ttfamily true}}
\end{DoxyParamCaption}
)}\label{classUser_aa4dcab7801d74a6534e24f1df8924916}
Log out the current user Note: After logging out, the session still continues. The calling app must take care of the forward (e.g. with a header('location: ' . \$\_\-SERVER['PHP\_\-SELF']) after a call to \doxyref{User::logout()}{p.}{classUser_aa4dcab7801d74a6534e24f1df8924916}). 
\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em \$resetStatus} & When true (default) the object status will be reset \\
\hline
\end{DoxyParams}


References clearUser(), ConfigHandler::get(), newUser(), \_\-OWL::restoreStatus(), and \_\-OWL::saveStatus().



Referenced by login().

\index{User@{User}!newUser@{newUser}}
\index{newUser@{newUser}!User@{User}}
\subsubsection[{newUser}]{\setlength{\rightskip}{0pt plus 5cm}User::newUser (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  [private]}}\label{classUser_a35eff470817c317b6c1a001b3384804d}
(Re)initialize the user environment 

References ConfigHandler::get(), getMemberships(), and readUserdata().



Referenced by construct(), login(), and logout().

\index{User@{User}!passwordStrength@{passwordStrength}}
\index{passwordStrength@{passwordStrength}!User@{User}}
\subsubsection[{passwordStrength}]{\setlength{\rightskip}{0pt plus 5cm}static User::passwordStrength (
\begin{DoxyParamCaption}
\item[{\$}]{\_\-pwd, }
\item[{\$}]{\_\-compare = {\ttfamily array()}}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  [static]}}\label{classUser_a576588d95a2caa741c57c000a2127c20}
Calculate the strenbgth of a given password. This method uses string length and checks for variations in the characters and digits used. 
\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em \$\_\-pwd} & The password as a string \\
\hline
\mbox{\tt in}  & {\em \$\_\-compare} & An optional array of string to compare with, like username and or email address. If the password if (part of) any of the strings in the array, the strength is decreased. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
An integer from 0-\/10 indicating the strength, where 0 is the lowest and 10 the highest level 
\end{DoxyReturn}
\index{User@{User}!readUserdata@{readUserdata}}
\index{readUserdata@{readUserdata}!User@{User}}
\subsubsection[{readUserdata}]{\setlength{\rightskip}{0pt plus 5cm}User::readUserdata (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  [private]}}\label{classUser_a4cbb353323ec7eca9521da68fc2e34cf}
When a new session starts for a use that was logged in before retrieve the userdata back from the database 

References ConfigHandler::get(), getUserId(), and \_\-OWL::setStatus().



Referenced by newUser(), and restoreUser().

\index{User@{User}!register@{register}}
\index{register@{register}!User@{User}}
\subsubsection[{register}]{\setlength{\rightskip}{0pt plus 5cm}User::register (
\begin{DoxyParamCaption}
\item[{\$}]{username, }
\item[{\$}]{email, }
\item[{\$}]{password, }
\item[{\$}]{vpassword, }
\item[{\$}]{group = {\ttfamily 0}}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  [protected]}}\label{classUser_a0454a21e40da25584033f99251540ab3}
\doxyref{Register}{p.}{classRegister} a new username


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em \$username} & Given username \\
\hline
\mbox{\tt in}  & {\em \$email} & Given username \\
\hline
\mbox{\tt in}  & {\em \$password} & Given password \\
\hline
\mbox{\tt in}  & {\em \$vpassword} & Given password \\
\hline
\mbox{\tt in}  & {\em \$group} & Default \doxyref{Group}{p.}{classGroup} ID, defaults to the user$|$default\_\-group config setting \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
New user ID or -\/1 on failure 
\end{DoxyReturn}


References \$group, ConfigHandler::get(), hashPassword(), RandomString(), \_\-OWL::setCallbackArgument(), \_\-OWL::setStatus(), and usernameExists().

\index{User@{User}!reset@{reset}}
\index{reset@{reset}!User@{User}}
\subsubsection[{reset}]{\setlength{\rightskip}{0pt plus 5cm}\_\-OWL::reset (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  [protected, inherited]}}\label{class__OWL_a2f2a042bcf31965194c03033df0edc9b}
General reset function for all objects. Should be called after each non-\/fatal error 

Reimplemented in {\bf DbHandler} \doxyref{}{p.}{classDbHandler_a9982df4830f05803935bb31bac7fae3d}, and {\bf SchemeHandler} \doxyref{}{p.}{classSchemeHandler_aa25feb4a70d67b3d571904be4b2f50bc}.



References \_\-OWL::resetCalltree().



Referenced by \_\-OWL::check(), SessionHandler::read(), DataHandler::reset(), and \_\-OWL::setStatus().

\index{User@{User}!restoreStatus@{restoreStatus}}
\index{restoreStatus@{restoreStatus}!User@{User}}
\subsubsection[{restoreStatus}]{\setlength{\rightskip}{0pt plus 5cm}\_\-OWL::restoreStatus (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  [protected, inherited]}}\label{class__OWL_a93de01a9bbbc3f228e1a62a0740e90f0}
Restore the previously saved status object and destroy the copy 

References \_\-OWL::setStatus().



Referenced by logout().

\index{User@{User}!restoreUser@{restoreUser}}
\index{restoreUser@{restoreUser}!User@{User}}
\subsubsection[{restoreUser}]{\setlength{\rightskip}{0pt plus 5cm}User::restoreUser (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  [private]}}\label{classUser_a9c69194002dc162de176e363abbd2e33}
Restore a user environment 

References getSessionVar(), and readUserdata().



Referenced by construct().

\index{User@{User}!saveStatus@{saveStatus}}
\index{saveStatus@{saveStatus}!User@{User}}
\subsubsection[{saveStatus}]{\setlength{\rightskip}{0pt plus 5cm}\_\-OWL::saveStatus (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  [protected, inherited]}}\label{class__OWL_add923dc756471318edca8883db3f4420}
Create a copy of the status object 

Referenced by logout().

\index{User@{User}!saveUser@{saveUser}}
\index{saveUser@{saveUser}!User@{User}}
\subsubsection[{saveUser}]{\setlength{\rightskip}{0pt plus 5cm}User::saveUser (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  [private]}}\label{classUser_aeeaefbc1a010bff19c07b25b865bb617}
Save the current user environment in the session 

References setSessionVar().



Referenced by \_\-\_\-destruct().

\index{User@{User}!setCallback@{setCallback}}
\index{setCallback@{setCallback}!User@{User}}
\subsubsection[{setCallback}]{\setlength{\rightskip}{0pt plus 5cm}\_\-OWL::setCallback (
\begin{DoxyParamCaption}
\item[{\$}]{\_\-dispatcher}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  [protected, inherited]}}\label{class__OWL_a5f84d43cd4dc7810649f1e2ebecad360}
Set a dispatcher for later callback 
\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em \$\_\-dispatcher} & Dispatched, \\
\hline
\end{DoxyParams}
\begin{DoxySeeAlso}{See also}
\doxyref{Dispatcher::composeDispatcher()}{p.}{classDispatcher_a8a974bbbb30be7cda74f9929972fd2f6} 
\end{DoxySeeAlso}
\begin{DoxyReturn}{Returns}
True on success, false on failure 
\end{DoxyReturn}


References OWL::factory().

\index{User@{User}!setCallbackArgument@{setCallbackArgument}}
\index{setCallbackArgument@{setCallbackArgument}!User@{User}}
\subsubsection[{setCallbackArgument}]{\setlength{\rightskip}{0pt plus 5cm}\_\-OWL::setCallbackArgument (
\begin{DoxyParamCaption}
\item[{array \$}]{\_\-arg}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  [protected, inherited]}}\label{class__OWL_a4e9ebfbd3c0d76539bed4e44de9962c3}
Add an argument to a previously registered callback dispatcher 
\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em \$\_\-arg} & Argument, must be an array type. When non-\/ arrays should be passed as arguments, the must be set when the callback is registered already \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
True on success, false on failure 
\end{DoxyReturn}


References OWL::factory().



Referenced by register().

\index{User@{User}!setHighSeverity@{setHighSeverity}}
\index{setHighSeverity@{setHighSeverity}!User@{User}}
\subsubsection[{setHighSeverity}]{\setlength{\rightskip}{0pt plus 5cm}\_\-OWL::setHighSeverity (
\begin{DoxyParamCaption}
\item[{\&\$}]{object = {\ttfamily null}}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  [protected, inherited]}}\label{class__OWL_a97173dbe452428d3851406413264734d}
Compare the severity level of the current object with a given one and set my statuspointer to the object with the highest level. 

Referenced by \_\-OWL::check(), DataHandler::db(), DataHandler::prepare(), and SessionHandler::read().

\index{User@{User}!setSessionVar@{setSessionVar}}
\index{setSessionVar@{setSessionVar}!User@{User}}
\subsubsection[{setSessionVar}]{\setlength{\rightskip}{0pt plus 5cm}User::setSessionVar (
\begin{DoxyParamCaption}
\item[{\$}]{var, }
\item[{\$}]{val = {\ttfamily 0}, }
\item[{\$}]{flg = {\ttfamily {\bf SESSIONVAR\_\-SET}}}
\end{DoxyParamCaption}
)}\label{classUser_a7182c07b394d1b42f25df90c97b98d0f}
Set a session variable


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em \$var} & Variable name \\
\hline
\mbox{\tt in}  & {\em \$val} & Variable value (default 0) \\
\hline
\mbox{\tt in}  & {\em \$flg} & How to handle the value. Default SESSIONVAR\_\-SET \\
\hline
\end{DoxyParams}


Referenced by saveUser().

\index{User@{User}!setStatus@{setStatus}}
\index{setStatus@{setStatus}!User@{User}}
\subsubsection[{setStatus}]{\setlength{\rightskip}{0pt plus 5cm}\_\-OWL::setStatus (
\begin{DoxyParamCaption}
\item[{\$}]{status, }
\item[{\$}]{params = {\ttfamily array~()}}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  [final, protected, inherited]}}\label{class__OWL_a80e2fe01c3663dbb0ab685eebe33fd1e}
Set the current object status to the specified value.


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em \$status} & \doxyref{OWL}{p.}{classOWL} status code \\
\hline
\mbox{\tt in}  & {\em \$params} & \\
\hline
\end{DoxyParams}


References \$GLOBALS, \_\-OWL::\$status, ConfigHandler::get(), Register::getCode(), \_\-OWL::reset(), and \_\-OWL::signal().



Referenced by DbHandler::\_\-\_\-clone(), Container::\_\-\_\-construct(), SchemeHandler::\_\-\_\-construct(), ImageHandler::\_\-\_\-construct(), FormHandler::\_\-\_\-construct(), FileHandler::\_\-\_\-construct(), DbHandler::\_\-\_\-construct(), DataHandler::\_\-\_\-construct(), Session::\_\-\_\-construct(), BaseElement::\_\-getContent(), Form::addField(), FormFieldRadioPlugin::addOption(), BaseElement::addToContent(), DbHandler::alt(), SchemeHandler::alterScheme(), FileHandler::close(), DbHandler::commitTransaction(), Dispatcher::composeDispatcher(), confirm(), DbHandler::connect(), DbHandler::create(), SchemeHandler::createScheme(), SchemeHandler::defineIndex(), SchemeHandler::defineScheme(), Dispatcher::dispatch(), FormHandler::get(), DataHandler::get(), SchemeHandler::getTableColumns(), SchemeHandler::getTableIndexes(), \_\-OWL::init(), Document::loadScript(), Document::loadStyle(), login(), FileHandler::open(), DbHandler::open(), LogHandler::openLogfile(), DataHandler::prepare(), DbHandler::prepareDelete(), DbHandler::prepareField(), DbHandler::prepareInsert(), DbHandler::prepareRead(), DbHandler::prepareUpdate(), DbHandler::read(), FileHandler::readLine(), readUserdata(), register(), Dispatcher::registerArgument(), Dispatcher::registerCallback(), \_\-OWL::restoreStatus(), DbHandler::rollbackTransaction(), SchemeHandler::scheme(), FormHandler::set(), BaseElement::setAttributes(), BaseElement::setContent(), Form::setEncoding(), Document::setFavicon(), Form::setFieldAttributes(), DataHandler::setJoin(), DataHandler::setKey(), FormFieldTextPlugin::setMaxsize(), Document::setMeta(), Form::setMethod(), FormFieldRadioPlugin::setSelected(), FormFieldTextPlugin::setSize(), FormFieldSelectPlugin::setSize(), FormFieldSelectPlugin::setValue(), Form::showField(), DbHandler::startTransaction(), SchemeHandler::tableDescription(), SchemeHandler::validateScheme(), and DbHandler::write().

\index{User@{User}!signal@{signal}}
\index{signal@{signal}!User@{User}}
\subsubsection[{signal}]{\setlength{\rightskip}{0pt plus 5cm}\_\-OWL::signal (
\begin{DoxyParamCaption}
\item[{\$}]{level = {\ttfamily {\bf OWL\_\-INFO}}, }
\item[{\&\$}]{text = {\ttfamily false}}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  [inherited]}}\label{class__OWL_a51ba4a16409acf2a2f61f286939091a5}
Display the message for the current object status


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em \$level} & An optional severity level; message will only be displayed when it is at least of this level. \\
\hline
\mbox{\tt out}  & {\em \$text} & If this parameter is given, the message text is returned in this string instead of echood. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The severity level for this object 
\end{DoxyReturn}


References ConfigHandler::get().



Referenced by \_\-OWL::setStatus(), and \_\-OWL::traceback().

\index{User@{User}!succeeded@{succeeded}}
\index{succeeded@{succeeded}!User@{User}}
\subsubsection[{succeeded}]{\setlength{\rightskip}{0pt plus 5cm}\_\-OWL::succeeded (
\begin{DoxyParamCaption}
\item[{\$}]{\_\-ok = {\ttfamily {\bf OWL\_\-SUCCESS}}, }
\item[{\&\$}]{\_\-object = {\ttfamily null}}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  [inherited]}}\label{class__OWL_a53ab4d3bbb2c6a56966c339ca4b4c805}
Check if the object currenlty has a success state 
\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em \$\_\-ok} & The highest severity that's considered successfull, default OWL\_\-SUCCESS \\
\hline
\mbox{\tt in}  & {\em \$\_\-object} & REference to the object to check, defaults to the current object \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Boolean true when successfull 
\end{DoxyReturn}


Referenced by construct(), Dispatcher::registerArgument(), and Dispatcher::registerCallback().

\index{User@{User}!traceback@{traceback}}
\index{traceback@{traceback}!User@{User}}
\subsubsection[{traceback}]{\setlength{\rightskip}{0pt plus 5cm}\_\-OWL::traceback (
\begin{DoxyParamCaption}
\item[{\&\$}]{text = {\ttfamily false}, }
\item[{\$}]{depth = {\ttfamily 0}}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  [inherited]}}\label{class__OWL_aa29547995d6741b7d2b90c1d4ea99a13}
If somehwere in the nested calls an error occured, we can traceback the original failing object with this function and signal the message.


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt out}  & {\em \$text} & Optional variable in which the message text can be stored. If not given, the text will be written to standard output \\
\hline
\mbox{\tt in}  & {\em \$depth} & This paramater should be initially empty. It calculates the depth in recursive calls. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Severity code of the failing object 
\end{DoxyReturn}


References \_\-OWL::signal().



Referenced by \_\-OWL::check(), login(), and SessionHandler::read().

\index{User@{User}!usernameExists@{usernameExists}}
\index{usernameExists@{usernameExists}!User@{User}}
\subsubsection[{usernameExists}]{\setlength{\rightskip}{0pt plus 5cm}User::usernameExists (
\begin{DoxyParamCaption}
\item[{\$}]{username}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  [private]}}\label{classUser_a3e2345ccf1e392fd244414939d1da8c7}
Check is a given username exists 
\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em \$username} & The username to check \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
True when the username exists false otherwise 
\end{DoxyReturn}


Referenced by register().



\subsection{Member Data Documentation}
\index{User@{User}!\$dataset@{\$dataset}}
\index{\$dataset@{\$dataset}!User@{User}}
\subsubsection[{\$dataset}]{\setlength{\rightskip}{0pt plus 5cm}User::\$dataset\hspace{0.3cm}{\ttfamily  [private]}}\label{classUser_ac516c03e30e262e4085151df30109b00}
Link to a datahandler object. This dataset is used as an interface to all database IO. 

Referenced by getMemberships().

\index{User@{User}!\$group@{\$group}}
\index{\$group@{\$group}!User@{User}}
\subsubsection[{\$group}]{\setlength{\rightskip}{0pt plus 5cm}User::\$group\hspace{0.3cm}{\ttfamily  [private]}}\label{classUser_a669fa9bfc33707ca3ee6102249acaf6f}
Primary group object 

Referenced by register().

\index{User@{User}!\$memberships@{\$memberships}}
\index{\$memberships@{\$memberships}!User@{User}}
\subsubsection[{\$memberships}]{\setlength{\rightskip}{0pt plus 5cm}User::\$memberships\hspace{0.3cm}{\ttfamily  [private]}}\label{classUser_a1a8f6207b6403f4806051f82b594e2eb}
Array with the group objects the user is member of \index{User@{User}!\$rights@{\$rights}}
\index{\$rights@{\$rights}!User@{User}}
\subsubsection[{\$rights}]{\setlength{\rightskip}{0pt plus 5cm}User::\$rights\hspace{0.3cm}{\ttfamily  [private]}}\label{classUser_a3f482d6b1f02d4024e66abdb86bd1cf8}
This users rightslist \index{User@{User}!\$session@{\$session}}
\index{\$session@{\$session}!User@{User}}
\subsubsection[{\$session}]{\setlength{\rightskip}{0pt plus 5cm}User::\$session\hspace{0.3cm}{\ttfamily  [private]}}\label{classUser_a0bcbaf8fe088e8359201c8fee8cd368e}
The PHP session object \index{User@{User}!\$severity@{\$severity}}
\index{\$severity@{\$severity}!User@{User}}
\subsubsection[{\$severity}]{\setlength{\rightskip}{0pt plus 5cm}\_\-OWL::\$severity\hspace{0.3cm}{\ttfamily  [protected, inherited]}}\label{class__OWL_ad26b40a9dbbacb33e299b17826f8327c}
Severity level of the current object status 

Referenced by DbHandler::commitTransaction(), DbHandler::rollbackTransaction(), and DbHandler::startTransaction().

\index{User@{User}!\$user\_\-data@{\$user\_\-data}}
\index{\$user\_\-data@{\$user\_\-data}!User@{User}}
\subsubsection[{\$user\_\-data}]{\setlength{\rightskip}{0pt plus 5cm}User::\$user\_\-data\hspace{0.3cm}{\ttfamily  [private]}}\label{classUser_a214012afca3e92dfeed14a9a1f80a268}
An indexed array with the user information as take from the database 

The documentation for this class was generated from the following file:\begin{DoxyCompactItemize}
\item 
/home/oscar/projects/owl-\/php/src/kernel/bo/{\bf class.user.php}\end{DoxyCompactItemize}
