\section{DataHandler Class Reference}
\label{classDataHandler}\index{DataHandler@{DataHandler}}


The \doxyref{OWL}{p.}{classOWL} Data object.  


Inheritance diagram for DataHandler:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=3.000000cm]{classDataHandler}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
{\bf \_\-\_\-construct} (\$tablename= '')
\item 
{\bf reset} (\$level={\bf DATA\_\-RESET\_\-PREPARE})
\item 
{\bf getDbLink} ()
\item 
{\bf set} (\$variable, \$value, \$table=null, array \$fieldFunction=null, array \$valueFunction=null)
\item 
{\bf setKey} (\$variable)
\item 
{\bf escapeString} (\$string)
\item 
{\bf get} (\$variable)
\item 
{\bf setJoin} (\$lvalue, \$rvalue, \$linktype= '=')
\item 
{\bf setTablename} (\$tblname)
\item 
{\bf prepare} (\$type={\bf DATA\_\-READ})
\item 
{\bf db} (\&\$data=null, \$line=0, \$file= '[unknown]')
\item 
{\bf setPrefix} (\$prefix)
\item 
{\bf dbStatus} ()
\item 
{\bf insertedId} ()
\item 
{\bf getLastWarning} ()
\item 
{\bf getStatus} ()
\item 
{\bf getSeverity} (\$status=null)
\item 
{\bf succeeded} (\$\_\-ok={\bf OWL\_\-SUCCESS}, \&\$\_\-object=null)
\item 
{\bf signal} (\$level={\bf OWL\_\-INFO}, \&\$text=false)
\item 
{\bf traceback} (\&\$text=false, \$depth=0)
\end{DoxyCompactItemize}
\subsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
{\bf init} ()
\item 
{\bf setCallback} (\$\_\-dispatcher)
\item 
{\bf setCallbackArgument} (array \$\_\-arg)
\item 
{\bf getCallback} ()
\item 
{\bf reset} ()
\item 
{\bf saveStatus} ()
\item 
{\bf restoreStatus} ()
\item 
{\bf check} (\&\$object, \$level={\bf OWL\_\-WARNING})
\item 
{\bf setStatus} (\$status, \$params=array())
\item 
{\bf setHighSeverity} (\&\$object=null)
\end{DoxyCompactItemize}
\subsection*{Protected Attributes}
\begin{DoxyCompactItemize}
\item 
{\bf \$owl\_\-tablename}
\item 
{\bf \$owl\_\-database}
\item 
{\bf \$severity}
\end{DoxyCompactItemize}
\subsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
{\bf findField} (\$fld, \&\$expanded)
\end{DoxyCompactItemize}
\subsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
{\bf \$owl\_\-data}
\item 
{\bf \$owl\_\-joins}
\item 
{\bf \$owl\_\-keys}
\item 
{\bf \$owl\_\-prepared}
\item 
{\bf \$last\_\-id}
\end{DoxyCompactItemize}


\subsection{Detailed Description}
The \doxyref{OWL}{p.}{classOWL} Data object. 

This class contains DB datasets \begin{DoxyAuthor}{Author}
Oscar van Eijk, Oveas Functionality Provider 
\end{DoxyAuthor}
\begin{DoxyVersion}{Version}
Aug 4, 2008 -\/-\/ O van Eijk -\/-\/ initial version 
\end{DoxyVersion}
\begin{Desc}
\item[Examples: ]\par


{\bf exa.datahandler-\/set.php}.

\end{Desc}


\subsection{Constructor \& Destructor Documentation}
\index{DataHandler@{DataHandler}!\_\-\_\-construct@{\_\-\_\-construct}}
\index{\_\-\_\-construct@{\_\-\_\-construct}!DataHandler@{DataHandler}}
\subsubsection[{\_\-\_\-construct}]{\setlength{\rightskip}{0pt plus 5cm}DataHandler::\_\-\_\-construct (
\begin{DoxyParamCaption}
\item[{\$}]{tablename = {\ttfamily ''}}
\end{DoxyParamCaption}
)}\label{classDataHandler_a4fd274c45bf06283b05e757b7c081439}
Class constructor. 
\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em \$tablename} & Default table name for this dataset \\
\hline
\end{DoxyParams}
\begin{DoxyAuthor}{Author}
Oscar van Eijk, Oveas Functionality Provider 
\end{DoxyAuthor}


Reimplemented in {\bf HDataHandler} \doxyref{}{p.}{classHDataHandler_aa816b8254ee67e121f00012fa6c309a3}.



References OWL::factory(), \_\-OWL::init(), and \_\-OWL::setStatus().



\subsection{Member Function Documentation}
\index{DataHandler@{DataHandler}!check@{check}}
\index{check@{check}!DataHandler@{DataHandler}}
\subsubsection[{check}]{\setlength{\rightskip}{0pt plus 5cm}\_\-OWL::check (
\begin{DoxyParamCaption}
\item[{\&\$}]{object, }
\item[{\$}]{level = {\ttfamily {\bf OWL\_\-WARNING}}}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  [protected, inherited]}}\label{class__OWL_ae2e3c56e5f3c4ce4156c6b1bb1c50f63}
This is a helper function for lazy developers. Some checks have to be made quite often, this is a kinda macro to handle that. It compares the own severity level with that of a given object. If the highest level is above a given max, a traceback and reset are performed.


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em \$object} & Pointer to an object to check against \\
\hline
\mbox{\tt in}  & {\em \$level} & The maximum severity level \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
True if the severity level was correct (below the max), otherwise false 
\end{DoxyReturn}
\begin{DoxyAuthor}{Author}
Oscar van Eijk, Oveas Functionality Provider 
\end{DoxyAuthor}


References \_\-OWL::reset(), \_\-OWL::setHighSeverity(), and \_\-OWL::traceback().



Referenced by SessionHandler::write().

\index{DataHandler@{DataHandler}!db@{db}}
\index{db@{db}!DataHandler@{DataHandler}}
\subsubsection[{db}]{\setlength{\rightskip}{0pt plus 5cm}DataHandler::db (
\begin{DoxyParamCaption}
\item[{\&\$}]{data = {\ttfamily null}, }
\item[{\$}]{line = {\ttfamily 0}, }
\item[{\$}]{file = {\ttfamily '[unknown]'}}
\end{DoxyParamCaption}
)}\label{classDataHandler_ad0d98add797178eb7192333dcc2bab4c}
Forward a call to the DBHandler object (which is private in this \doxyref{DataHandler}{p.}{classDataHandler}) 
\begin{DoxyParams}[1]{Parameters}
\mbox{\tt out}  & {\em \$data} & The result of DBHandler function, or false when no query was prepared yet \\
\hline
\mbox{\tt in}  & {\em \$line} & Line number of this call \\
\hline
\mbox{\tt in}  & {\em \$file} & File that made the call to this method \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Severity level 
\end{DoxyReturn}
\begin{DoxyAuthor}{Author}
Oscar van Eijk, Oveas Functionality Provider 
\end{DoxyAuthor}


References \_\-OWL::setHighSeverity().

\index{DataHandler@{DataHandler}!dbStatus@{dbStatus}}
\index{dbStatus@{dbStatus}!DataHandler@{DataHandler}}
\subsubsection[{dbStatus}]{\setlength{\rightskip}{0pt plus 5cm}DataHandler::dbStatus (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\label{classDataHandler_ada79b8820e5f5de52d2ac814c719a2ae}
Return the last status of the database \begin{DoxyReturn}{Returns}
Current status of the database object 
\end{DoxyReturn}
\begin{DoxyAuthor}{Author}
Oscar van Eijk, Oveas Functionality Provider 
\end{DoxyAuthor}
\index{DataHandler@{DataHandler}!escapeString@{escapeString}}
\index{escapeString@{escapeString}!DataHandler@{DataHandler}}
\subsubsection[{escapeString}]{\setlength{\rightskip}{0pt plus 5cm}DataHandler::escapeString (
\begin{DoxyParamCaption}
\item[{\$}]{string}
\end{DoxyParamCaption}
)}\label{classDataHandler_a43cc86bc12f402d7d82d6eba142938f2}
Interface to the DbHander::escapeString() 
\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em \$string} & String to escape \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Return value of \doxyref{DbHandler::escapeString()}{p.}{classDbHandler_a84d876a07a292f4a7bd49e5acfac9d14} 
\end{DoxyReturn}
\begin{DoxyAuthor}{Author}
Oscar van Eijk, Oveas Functionality Provider 
\end{DoxyAuthor}
\index{DataHandler@{DataHandler}!findField@{findField}}
\index{findField@{findField}!DataHandler@{DataHandler}}
\subsubsection[{findField}]{\setlength{\rightskip}{0pt plus 5cm}DataHandler::findField (
\begin{DoxyParamCaption}
\item[{\$}]{fld, }
\item[{\&\$}]{expanded}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  [private]}}\label{classDataHandler_ab1ee0b3baaaeff857e01b5d503cbae37}
Try to exand a field to a fully qualified 'table\#field' name 
\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em \$fld} & The fieldname that has to be expanded \\
\hline
\mbox{\tt out}  & {\em \$expanded} & An array with all matching fully qualified fieldnames. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The number of matches 
\end{DoxyReturn}
\begin{DoxyAuthor}{Author}
Oscar van Eijk, Oveas Functionality Provider 
\end{DoxyAuthor}


Referenced by get().

\index{DataHandler@{DataHandler}!get@{get}}
\index{get@{get}!DataHandler@{DataHandler}}
\subsubsection[{get}]{\setlength{\rightskip}{0pt plus 5cm}DataHandler::get (
\begin{DoxyParamCaption}
\item[{\$}]{variable}
\end{DoxyParamCaption}
)}\label{classDataHandler_a7dcf85dac419f51ad4daa166c928a399}
Retrieve a value from the data array. The variable name can be a fully qualified table/fieldname (format \char`\"{}table\#field\char`\"{}), or only a field name, in which case it has to be unique. If the fieldname cannot be found directly, the array is scanned to find a matching field. If more matches are found, the object status is set to DATA\_\-AMBFIELD. \begin{DoxyNote}{Note}
The data array contains arrays where the first element is the matchtype (=, $<$, $<$= etc) and the second element is the actual value! 
\end{DoxyNote}

\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em \$variable} & The name of the variable that should be retrieved \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The value, or NULL when the value was not found or abigious. 
\end{DoxyReturn}
\begin{DoxyAuthor}{Author}
Oscar van Eijk, Oveas Functionality Provider 
\end{DoxyAuthor}


References findField(), and \_\-OWL::setStatus().

\index{DataHandler@{DataHandler}!getCallback@{getCallback}}
\index{getCallback@{getCallback}!DataHandler@{DataHandler}}
\subsubsection[{getCallback}]{\setlength{\rightskip}{0pt plus 5cm}\_\-OWL::getCallback (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  [protected, inherited]}}\label{class__OWL_acb46ff88f43ca66f1268d3f5199c3f8d}
Retrieve a previously set (callback) dispatcher. The (callback) dispatcher is cleared immediatly. \begin{DoxyReturn}{Returns}
The dispatcher, of null on failure. 
\end{DoxyReturn}
\begin{DoxyAuthor}{Author}
Oscar van Eijk, Oveas Functionality Provider 
\end{DoxyAuthor}


Reimplemented in {\bf Dispatcher} \doxyref{}{p.}{classDispatcher_a31c4bd4e4eaee7ef90b1ea364a901447}.



References OWL::factory().

\index{DataHandler@{DataHandler}!getDbLink@{getDbLink}}
\index{getDbLink@{getDbLink}!DataHandler@{DataHandler}}
\subsubsection[{getDbLink}]{\setlength{\rightskip}{0pt plus 5cm}DataHandler::getDbLink (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\label{classDataHandler_a47ac87a4d43f785666d91ca85faed487}
Get the link to the actual database object of the dataset, which might be the original singleton, or the clone in use. \begin{DoxyAuthor}{Author}
Oscar van Eijk, Oveas Functionality Provider 
\end{DoxyAuthor}
\index{DataHandler@{DataHandler}!getLastWarning@{getLastWarning}}
\index{getLastWarning@{getLastWarning}!DataHandler@{DataHandler}}
\subsubsection[{getLastWarning}]{\setlength{\rightskip}{0pt plus 5cm}\_\-OWL::getLastWarning (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  [inherited]}}\label{class__OWL_a1888f52fc2d0ec29e146925ccad70a6b}
Get the last warning or error message. \begin{DoxyReturn}{Returns}
null if there was no error (severity below OWL\_\-WARNING), otherwise the error text. 
\end{DoxyReturn}
\begin{DoxyAuthor}{Author}
Oscar van Eijk, Oveas Functionality Provider 
\end{DoxyAuthor}


References \_\-OWL::signal().

\index{DataHandler@{DataHandler}!getSeverity@{getSeverity}}
\index{getSeverity@{getSeverity}!DataHandler@{DataHandler}}
\subsubsection[{getSeverity}]{\setlength{\rightskip}{0pt plus 5cm}\_\-OWL::getSeverity (
\begin{DoxyParamCaption}
\item[{\$}]{status = {\ttfamily null}}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  [inherited]}}\label{class__OWL_a2374613f9bb7eccf49a5dbc9a9ef4751}
Get the current object severity level. 
\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em \$status} & An optional parameter to check an other status code i.s.o the object's current status. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Status severity level 
\end{DoxyReturn}
\begin{DoxyAuthor}{Author}
Oscar van Eijk, Oveas Functionality Provider 
\end{DoxyAuthor}


References \_\-OWL::\$status.



Referenced by LogHandler::composeMessage(), LogHandler::log(), and setKey().

\index{DataHandler@{DataHandler}!getStatus@{getStatus}}
\index{getStatus@{getStatus}!DataHandler@{DataHandler}}
\subsubsection[{getStatus}]{\setlength{\rightskip}{0pt plus 5cm}\_\-OWL::getStatus (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  [final, inherited]}}\label{class__OWL_ac1f1643ff5b5db7c326c30477603358d}
Get the current object status. \begin{DoxyReturn}{Returns}
Object's status code 
\end{DoxyReturn}
\begin{DoxyAuthor}{Author}
Oscar van Eijk, Oveas Functionality Provider 
\end{DoxyAuthor}


Referenced by SchemeHandler::compare().

\index{DataHandler@{DataHandler}!init@{init}}
\index{init@{init}!DataHandler@{DataHandler}}
\subsubsection[{init}]{\setlength{\rightskip}{0pt plus 5cm}\_\-OWL::init (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  [protected, inherited]}}\label{class__OWL_ae0ef3ded56e8a6b34b6461e5a721cd3e}
This function should be called by all constuctors. It initializes the general characteristics. Status is 'warning' by default, it's up to the contructor to set a proper status; if it's still 'warning', this $\ast$might$\ast$ indicate something went wrong. \begin{DoxyAuthor}{Author}
Oscar van Eijk, Oveas Functionality Provider 
\end{DoxyAuthor}


References OWL::factory(), and \_\-OWL::setStatus().



Referenced by FormFieldPlugin::\_\-\_\-construct(), Tablerow::\_\-\_\-construct(), Tablecell::\_\-\_\-construct(), Table::\_\-\_\-construct(), Document::\_\-\_\-construct(), ContainerPlugin::\_\-\_\-construct(), Container::\_\-\_\-construct(), SocketHandler::\_\-\_\-construct(), SessionHandler::\_\-\_\-construct(), SchemeHandler::\_\-\_\-construct(), LogHandler::\_\-\_\-construct(), ImageHandler::\_\-\_\-construct(), FormHandler::\_\-\_\-construct(), FileHandler::\_\-\_\-construct(), DbHandler::\_\-\_\-construct(), HDataHandler::\_\-\_\-construct(), \_\-\_\-construct(), OWL::\_\-\_\-construct(), Mail::\_\-\_\-construct(), Group::\_\-\_\-construct(), Form::\_\-\_\-construct(), Dispatcher::\_\-\_\-construct(), and User::construct().

\index{DataHandler@{DataHandler}!insertedId@{insertedId}}
\index{insertedId@{insertedId}!DataHandler@{DataHandler}}
\subsubsection[{insertedId}]{\setlength{\rightskip}{0pt plus 5cm}DataHandler::insertedId (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\label{classDataHandler_a96ad9e539eb0646320a18f541745bfb1}
Return the last inserted AutoIncrement value \begin{DoxyReturn}{Returns}
Last ID 
\end{DoxyReturn}
\begin{DoxyAuthor}{Author}
Oscar van Eijk, Oveas Functionality Provider 
\end{DoxyAuthor}
\index{DataHandler@{DataHandler}!prepare@{prepare}}
\index{prepare@{prepare}!DataHandler@{DataHandler}}
\subsubsection[{prepare}]{\setlength{\rightskip}{0pt plus 5cm}DataHandler::prepare (
\begin{DoxyParamCaption}
\item[{\$}]{type = {\ttfamily {\bf DATA\_\-READ}}}
\end{DoxyParamCaption}
)}\label{classDataHandler_af3e7a17194e97300d499e9178f4913cb}
Prepare a database query 
\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em \$type} & Specify which type of query should be prepared:
\begin{DoxyItemize}
\item DATA\_\-READ (default); Read data from the database
\item DATA\_\-WRITE; Write new data to the database
\item DATA\_\-UPDATE; Update data in the database 
\end{DoxyItemize}\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Severity level 
\end{DoxyReturn}
\begin{Desc}
\item[{\bf Todo}]add limit and cache \end{Desc}
\begin{DoxyAuthor}{Author}
Oscar van Eijk, Oveas Functionality Provider 
\end{DoxyAuthor}


References \_\-OWL::setHighSeverity(), and \_\-OWL::setStatus().

\index{DataHandler@{DataHandler}!reset@{reset}}
\index{reset@{reset}!DataHandler@{DataHandler}}
\subsubsection[{reset}]{\setlength{\rightskip}{0pt plus 5cm}\_\-OWL::reset (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  [protected, inherited]}}\label{class__OWL_a2f2a042bcf31965194c03033df0edc9b}
General reset function for all objects. Should be called after each non-\/fatal error \begin{DoxyAuthor}{Author}
Oscar van Eijk, Oveas Functionality Provider 
\end{DoxyAuthor}


Reimplemented in {\bf DbHandler} \doxyref{}{p.}{classDbHandler_a9982df4830f05803935bb31bac7fae3d}, and {\bf SchemeHandler} \doxyref{}{p.}{classSchemeHandler_aa25feb4a70d67b3d571904be4b2f50bc}.



References \_\-OWL::resetCalltree().



Referenced by \_\-OWL::check(), SessionHandler::read(), reset(), and \_\-OWL::setStatus().

\index{DataHandler@{DataHandler}!reset@{reset}}
\index{reset@{reset}!DataHandler@{DataHandler}}
\subsubsection[{reset}]{\setlength{\rightskip}{0pt plus 5cm}DataHandler::reset (
\begin{DoxyParamCaption}
\item[{\$}]{level = {\ttfamily {\bf DATA\_\-RESET\_\-PREPARE}}}
\end{DoxyParamCaption}
)}\label{classDataHandler_ab89e1aaad9cd0a37f1c7f13c1d9c0d57}
Reset the object 
\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em \$level} & Bitmap indicating which items must be reset. Default is DATA\_\-RESET\_\-PREPARE \\
\hline
\end{DoxyParams}
\begin{DoxyAuthor}{Author}
Oscar van Eijk, Oveas Functionality Provider 
\end{DoxyAuthor}


References \_\-OWL::reset().

\index{DataHandler@{DataHandler}!restoreStatus@{restoreStatus}}
\index{restoreStatus@{restoreStatus}!DataHandler@{DataHandler}}
\subsubsection[{restoreStatus}]{\setlength{\rightskip}{0pt plus 5cm}\_\-OWL::restoreStatus (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  [protected, inherited]}}\label{class__OWL_a93de01a9bbbc3f228e1a62a0740e90f0}
Restore the previously saved status object and destroy the copy \begin{DoxyAuthor}{Author}
Oscar van Eijk, Oveas Functionality Provider 
\end{DoxyAuthor}


References \_\-OWL::setStatus().



Referenced by User::logout().

\index{DataHandler@{DataHandler}!saveStatus@{saveStatus}}
\index{saveStatus@{saveStatus}!DataHandler@{DataHandler}}
\subsubsection[{saveStatus}]{\setlength{\rightskip}{0pt plus 5cm}\_\-OWL::saveStatus (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  [protected, inherited]}}\label{class__OWL_add923dc756471318edca8883db3f4420}
Create a copy of the status object \begin{DoxyAuthor}{Author}
Oscar van Eijk, Oveas Functionality Provider 
\end{DoxyAuthor}


Referenced by User::logout().

\index{DataHandler@{DataHandler}!set@{set}}
\index{set@{set}!DataHandler@{DataHandler}}
\subsubsection[{set}]{\setlength{\rightskip}{0pt plus 5cm}DataHandler::set (
\begin{DoxyParamCaption}
\item[{\$}]{variable, }
\item[{\$}]{value, }
\item[{\$}]{table = {\ttfamily null}, }
\item[{array \$}]{fieldFunction = {\ttfamily null}, }
\item[{array \$}]{valueFunction = {\ttfamily null}}
\end{DoxyParamCaption}
)}\label{classDataHandler_a00cad7b4cee6e867dc985451f40ae404}
Define or override a variable in the data array 
\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em \$variable} & The name of the variable that should be set. \\
\hline
\mbox{\tt in}  & {\em \$value} & Value to set the variable to. For read operations, this can be a value, in which case the fieldname be will looked for matching all given values. Values with unescaped percent signs will be searched using the SQL LIKE keyword. If the matchtype is DBMATCH\_\-NONE, the value is ignored. \\
\hline
\mbox{\tt in}  & {\em \$table} & An optional tablename for this field. Defaults to \$this-\/$>$owl\_\-tablename \\
\hline
\mbox{\tt in}  & {\em \$fieldFunction} & An optional array with SQL functions and statements that apply to the fieldname. This is an indexed array, where all keys must have an array as value. The following keys are supported:
\begin{DoxyItemize}
\item function: An array where the first element is an SQL function, which must exist in the database driver as 'functionFunction' (e.g., for 'function'=$>$ array(\char`\"{}ifnull\char`\"{}, \char`\"{}default\char`\"{}), the method \char`\"{}functionIfnull()\char`\"{} must exist). The first argument passed to the method is always the fieldname, additional arguments will be taken from the array.
\item groupby: Add the fieldname to a groupby list. The value for this key must be an empty array
\item orderby: Add the fieldname to the orderby list. The given array can contain 1 element; \char`\"{}ASC\char`\"{} or \char`\"{}DESC\char`\"{}. When empty, it defaults to the SQL default (ASC)
\item having: Add the fieldname to to the having clause. The array must contain 2 elements, where the first element is the matchtype and the second argument is the value to match
\item name: The \doxyref{DataHandler}{p.}{classDataHandler} returns data as indexed arrays on read operations, where the index equals the fieldname. This might contain complete SQL code when functions are called; this can be overwritten by specifying a name for the field 
\end{DoxyItemize}\\
\hline
\mbox{\tt in}  & {\em \$valueFunction} & An optional array with SQL functions and statements that apply to the value. This is an indexed array, where all keys must have an array as value. The following keys are supported:
\begin{DoxyItemize}
\item function: An array where the first element is an SQL function, which must exist in the database driver as 'functionFunction' (e.g., for 'function'=$>$ array(\char`\"{}ifnull\char`\"{}, \char`\"{}default\char`\"{}), the method \char`\"{}functionIfnull()\char`\"{} must exist). The first argument passed to the method is always the fieldname, additional arguments will be taken from the array.
\item match: The matchtype. When omitted, default is DBMATCH\_\-EQ ('='). If the field should be in a SELECT list and not in the where clause, use the matchtype DBMATCH\_\-NONE (if no fields are set with DBMATCH\_\-NONE, read queries will select with SELECT $\ast$)
\end{DoxyItemize}\\
\hline
\end{DoxyParams}
\begin{DoxySeeAlso}{See also}
exa.datahandler-\/set.php 
\end{DoxySeeAlso}
\begin{DoxyAuthor}{Author}
Oscar van Eijk, Oveas Functionality Provider 
\end{DoxyAuthor}


Referenced by setPrefix().

\index{DataHandler@{DataHandler}!setCallback@{setCallback}}
\index{setCallback@{setCallback}!DataHandler@{DataHandler}}
\subsubsection[{setCallback}]{\setlength{\rightskip}{0pt plus 5cm}\_\-OWL::setCallback (
\begin{DoxyParamCaption}
\item[{\$}]{\_\-dispatcher}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  [protected, inherited]}}\label{class__OWL_a5f84d43cd4dc7810649f1e2ebecad360}
Set a dispatcher for later callback 
\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em \$\_\-dispatcher} & Dispatched, \\
\hline
\end{DoxyParams}
\begin{DoxySeeAlso}{See also}
\doxyref{Dispatcher::composeDispatcher()}{p.}{classDispatcher_a8a974bbbb30be7cda74f9929972fd2f6} 
\end{DoxySeeAlso}
\begin{DoxyReturn}{Returns}
True on success, false on failure 
\end{DoxyReturn}
\begin{DoxyAuthor}{Author}
Oscar van Eijk, Oveas Functionality Provider 
\end{DoxyAuthor}


References OWL::factory().

\index{DataHandler@{DataHandler}!setCallbackArgument@{setCallbackArgument}}
\index{setCallbackArgument@{setCallbackArgument}!DataHandler@{DataHandler}}
\subsubsection[{setCallbackArgument}]{\setlength{\rightskip}{0pt plus 5cm}\_\-OWL::setCallbackArgument (
\begin{DoxyParamCaption}
\item[{array \$}]{\_\-arg}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  [protected, inherited]}}\label{class__OWL_a4e9ebfbd3c0d76539bed4e44de9962c3}
Add an argument to a previously registered callback dispatcher 
\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em \$\_\-arg} & Argument, must be an array type. When non-\/ arrays should be passed as arguments, the must be set when the callback is registered already \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
True on success, false on failure 
\end{DoxyReturn}
\begin{DoxyAuthor}{Author}
Oscar van Eijk, Oveas Functionality Provider 
\end{DoxyAuthor}


References OWL::factory().



Referenced by User::register().

\index{DataHandler@{DataHandler}!setHighSeverity@{setHighSeverity}}
\index{setHighSeverity@{setHighSeverity}!DataHandler@{DataHandler}}
\subsubsection[{setHighSeverity}]{\setlength{\rightskip}{0pt plus 5cm}\_\-OWL::setHighSeverity (
\begin{DoxyParamCaption}
\item[{\&\$}]{object = {\ttfamily null}}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  [protected, inherited]}}\label{class__OWL_a97173dbe452428d3851406413264734d}
Compare the severity level of the current object with a given one and set my statuspointer to the object with the highest level. \begin{DoxyAuthor}{Author}
Oscar van Eijk, Oveas Functionality Provider 
\end{DoxyAuthor}


Referenced by \_\-OWL::check(), db(), prepare(), and SessionHandler::read().

\index{DataHandler@{DataHandler}!setJoin@{setJoin}}
\index{setJoin@{setJoin}!DataHandler@{DataHandler}}
\subsubsection[{setJoin}]{\setlength{\rightskip}{0pt plus 5cm}DataHandler::setJoin (
\begin{DoxyParamCaption}
\item[{\$}]{lvalue, }
\item[{\$}]{rvalue, }
\item[{\$}]{linktype = {\ttfamily '='}}
\end{DoxyParamCaption}
)}\label{classDataHandler_aeb7dd4ddfbd17b1b33220cadd03df0ce}
Define a link between 2 fields that will be recognized when the database query is built. 
\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em \$lvalue} & Left value as array(table, field) \\
\hline
\mbox{\tt in}  & {\em \$rvalue} & Right value as array(table, field) \\
\hline
\mbox{\tt in}  & {\em \$linktype} & How are the fields linked. Can be any binary operator as recognized by SQL. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Severity level 
\end{DoxyReturn}
\begin{DoxyAuthor}{Author}
Oscar van Eijk, Oveas Functionality Provider 
\end{DoxyAuthor}


References \_\-OWL::setStatus().

\index{DataHandler@{DataHandler}!setKey@{setKey}}
\index{setKey@{setKey}!DataHandler@{DataHandler}}
\subsubsection[{setKey}]{\setlength{\rightskip}{0pt plus 5cm}DataHandler::setKey (
\begin{DoxyParamCaption}
\item[{\$}]{variable}
\end{DoxyParamCaption}
)}\label{classDataHandler_a5f7880312f274837ec9f970e745a6994}
Lock variables for update by adding them to an array. Fields in this array will not be overwritten on updates, but used in WHERE clauses. 
\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em \$variable} & Variable name to lock, optionally as an array (table, field) \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Severity level 
\end{DoxyReturn}
\begin{DoxyAuthor}{Author}
Oscar van Eijk, Oveas Functionality Provider 
\end{DoxyAuthor}


References \_\-OWL::getSeverity(), and \_\-OWL::setStatus().

\index{DataHandler@{DataHandler}!setPrefix@{setPrefix}}
\index{setPrefix@{setPrefix}!DataHandler@{DataHandler}}
\subsubsection[{setPrefix}]{\setlength{\rightskip}{0pt plus 5cm}DataHandler::setPrefix (
\begin{DoxyParamCaption}
\item[{\$}]{prefix}
\end{DoxyParamCaption}
)}\label{classDataHandler_a9a5681334f7770e6eb0e797857c5af5e}
Overwrite the table prefix for this dataset. Since the prefix is stored in the database handler object, a clone is used (or made) here. 
\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em \$prefix} & \doxyref{Table}{p.}{classTable} prefix \\
\hline
\end{DoxyParams}
\begin{DoxyAuthor}{Author}
Oscar van Eijk, Oveas Functionality Provider 
\end{DoxyAuthor}


References OWL::factory(), OWLCache::get(), and set().

\index{DataHandler@{DataHandler}!setStatus@{setStatus}}
\index{setStatus@{setStatus}!DataHandler@{DataHandler}}
\subsubsection[{setStatus}]{\setlength{\rightskip}{0pt plus 5cm}\_\-OWL::setStatus (
\begin{DoxyParamCaption}
\item[{\$}]{status, }
\item[{\$}]{params = {\ttfamily array~()}}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  [final, protected, inherited]}}\label{class__OWL_a80e2fe01c3663dbb0ab685eebe33fd1e}
Set the current object status to the specified value. 
\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em \$status} & \doxyref{OWL}{p.}{classOWL} status code \\
\hline
\mbox{\tt in}  & {\em \$params} & \\
\hline
\end{DoxyParams}
\begin{DoxyAuthor}{Author}
Oscar van Eijk, Oveas Functionality Provider 
\end{DoxyAuthor}


References \$GLOBALS, \_\-OWL::\$status, ConfigHandler::get(), Register::getCode(), \_\-OWL::reset(), and \_\-OWL::signal().



Referenced by DbHandler::\_\-\_\-clone(), Container::\_\-\_\-construct(), SocketHandler::\_\-\_\-construct(), SchemeHandler::\_\-\_\-construct(), ImageHandler::\_\-\_\-construct(), FormHandler::\_\-\_\-construct(), FileHandler::\_\-\_\-construct(), DbHandler::\_\-\_\-construct(), \_\-\_\-construct(), Session::\_\-\_\-construct(), Mail::\_\-\_\-construct(), BaseElement::\_\-getContent(), Mail::addBcc(), Mail::addCc(), Form::addField(), FormFieldRadioPlugin::addOption(), Mail::addTo(), BaseElement::addToContent(), DbHandler::alt(), SchemeHandler::alterScheme(), FileHandler::close(), DbHandler::commitTransaction(), Dispatcher::composeDispatcher(), User::confirm(), SocketHandler::connect(), DbHandler::connect(), DbHandler::create(), SchemeHandler::createScheme(), SchemeHandler::defineIndex(), SchemeHandler::defineScheme(), SocketHandler::disconnect(), Dispatcher::dispatch(), FormHandler::get(), get(), SchemeHandler::getTableColumns(), SchemeHandler::getTableIndexes(), \_\-OWL::init(), Document::loadScript(), Document::loadStyle(), DbHandler::lockTable(), User::login(), FileHandler::open(), DbHandler::open(), LogHandler::openLogfile(), prepare(), DbHandler::prepareDelete(), DbHandler::prepareField(), DbHandler::prepareInsert(), DbHandler::prepareRead(), DbHandler::prepareUpdate(), SocketHandler::read(), DbHandler::read(), FileHandler::readLine(), HDataHandler::readQuery(), User::readUserdata(), User::register(), Dispatcher::registerArgument(), Dispatcher::registerCallback(), \_\-OWL::restoreStatus(), DbHandler::rollbackTransaction(), SchemeHandler::scheme(), Mail::send(), FormHandler::set(), BaseElement::setAttributes(), BaseElement::setContent(), Form::setEncoding(), Document::setFavicon(), Form::setFieldAttributes(), Mail::setFrom(), setJoin(), setKey(), FormFieldTextPlugin::setMaxsize(), Document::setMeta(), Form::setMethod(), FormFieldRadioPlugin::setSelected(), Mail::setSender(), FormFieldTextPlugin::setSize(), FormFieldSelectPlugin::setSize(), FormFieldSelectPlugin::setValue(), Form::showField(), DbHandler::startTransaction(), SchemeHandler::tableDescription(), DbHandler::unlockTable(), SchemeHandler::validateScheme(), SocketHandler::write(), and DbHandler::write().

\index{DataHandler@{DataHandler}!setTablename@{setTablename}}
\index{setTablename@{setTablename}!DataHandler@{DataHandler}}
\subsubsection[{setTablename}]{\setlength{\rightskip}{0pt plus 5cm}DataHandler::setTablename (
\begin{DoxyParamCaption}
\item[{\$}]{tblname}
\end{DoxyParamCaption}
)}\label{classDataHandler_afc1663398705f3b7db49797ef4765a74}
Set or overwrite the default table name 
\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em \$tblname} & Default table name \\
\hline
\end{DoxyParams}
\begin{DoxyAuthor}{Author}
Oscar van Eijk, Oveas Functionality Provider 
\end{DoxyAuthor}
\index{DataHandler@{DataHandler}!signal@{signal}}
\index{signal@{signal}!DataHandler@{DataHandler}}
\subsubsection[{signal}]{\setlength{\rightskip}{0pt plus 5cm}\_\-OWL::signal (
\begin{DoxyParamCaption}
\item[{\$}]{level = {\ttfamily {\bf OWL\_\-INFO}}, }
\item[{\&\$}]{text = {\ttfamily false}}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  [inherited]}}\label{class__OWL_a51ba4a16409acf2a2f61f286939091a5}
Display the message for the current object status 
\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em \$level} & An optional severity level; message will only be displayed when it is at least of this level. \\
\hline
\mbox{\tt out}  & {\em \$text} & If this parameter is given, the message text is returned in this string instead of echood. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The severity level for this object 
\end{DoxyReturn}
\begin{DoxyAuthor}{Author}
Oscar van Eijk, Oveas Functionality Provider 
\end{DoxyAuthor}


References ConfigHandler::get().



Referenced by \_\-OWL::getLastWarning(), \_\-OWL::setStatus(), and \_\-OWL::traceback().

\index{DataHandler@{DataHandler}!succeeded@{succeeded}}
\index{succeeded@{succeeded}!DataHandler@{DataHandler}}
\subsubsection[{succeeded}]{\setlength{\rightskip}{0pt plus 5cm}\_\-OWL::succeeded (
\begin{DoxyParamCaption}
\item[{\$}]{\_\-ok = {\ttfamily {\bf OWL\_\-SUCCESS}}, }
\item[{\&\$}]{\_\-object = {\ttfamily null}}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  [inherited]}}\label{class__OWL_a53ab4d3bbb2c6a56966c339ca4b4c805}
Check if the object currenlty has a success state 
\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em \$\_\-ok} & The highest severity that's considered successfull, default OWL\_\-SUCCESS \\
\hline
\mbox{\tt in}  & {\em \$\_\-object} & REference to the object to check, defaults to the current object \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Boolean true when successfull 
\end{DoxyReturn}
\begin{DoxyAuthor}{Author}
Oscar van Eijk, Oveas Functionality Provider 
\end{DoxyAuthor}


Referenced by User::construct(), Dispatcher::registerArgument(), and Dispatcher::registerCallback().

\index{DataHandler@{DataHandler}!traceback@{traceback}}
\index{traceback@{traceback}!DataHandler@{DataHandler}}
\subsubsection[{traceback}]{\setlength{\rightskip}{0pt plus 5cm}\_\-OWL::traceback (
\begin{DoxyParamCaption}
\item[{\&\$}]{text = {\ttfamily false}, }
\item[{\$}]{depth = {\ttfamily 0}}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  [inherited]}}\label{class__OWL_aa29547995d6741b7d2b90c1d4ea99a13}
If somehwere in the nested calls an error occured, we can traceback the original failing object with this function and signal the message. 
\begin{DoxyParams}[1]{Parameters}
\mbox{\tt out}  & {\em \$text} & Optional variable in which the message text can be stored. If not given, the text will be written to standard output \\
\hline
\mbox{\tt in}  & {\em \$depth} & This paramater should be initially empty. It calculates the depth in recursive calls. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Severity code of the failing object 
\end{DoxyReturn}
\begin{DoxyAuthor}{Author}
Oscar van Eijk, Oveas Functionality Provider 
\end{DoxyAuthor}


References \_\-OWL::signal().



Referenced by \_\-OWL::check(), User::login(), and SessionHandler::read().



\subsection{Member Data Documentation}
\index{DataHandler@{DataHandler}!\$last\_\-id@{\$last\_\-id}}
\index{\$last\_\-id@{\$last\_\-id}!DataHandler@{DataHandler}}
\subsubsection[{\$last\_\-id}]{\setlength{\rightskip}{0pt plus 5cm}DataHandler::\$last\_\-id\hspace{0.3cm}{\ttfamily  [private]}}\label{classDataHandler_afeeae62390378761bee881fc262938d9}
integer -\/ Last inserted Auto Increment value. Set after all write actions, so can be 0. \index{DataHandler@{DataHandler}!\$owl\_\-data@{\$owl\_\-data}}
\index{\$owl\_\-data@{\$owl\_\-data}!DataHandler@{DataHandler}}
\subsubsection[{\$owl\_\-data}]{\setlength{\rightskip}{0pt plus 5cm}DataHandler::\$owl\_\-data\hspace{0.3cm}{\ttfamily  [private]}}\label{classDataHandler_a329b5524c379e0db6c4d5ce59f3c414f}
Indexed array holding all data values. \index{DataHandler@{DataHandler}!\$owl\_\-database@{\$owl\_\-database}}
\index{\$owl\_\-database@{\$owl\_\-database}!DataHandler@{DataHandler}}
\subsubsection[{\$owl\_\-database}]{\setlength{\rightskip}{0pt plus 5cm}DataHandler::\$owl\_\-database\hspace{0.3cm}{\ttfamily  [protected]}}\label{classDataHandler_a3ac49aa018e0ebe4c74f5a636d455a8b}
An optional link to a database object. This has to be specified if the data needs to be written to or read from a dabatase. \index{DataHandler@{DataHandler}!\$owl\_\-joins@{\$owl\_\-joins}}
\index{\$owl\_\-joins@{\$owl\_\-joins}!DataHandler@{DataHandler}}
\subsubsection[{\$owl\_\-joins}]{\setlength{\rightskip}{0pt plus 5cm}DataHandler::\$owl\_\-joins\hspace{0.3cm}{\ttfamily  [private]}}\label{classDataHandler_ada9b697f81ea82d269077f9c7445791d}
2D Array holding all relationships between the data. \index{DataHandler@{DataHandler}!\$owl\_\-keys@{\$owl\_\-keys}}
\index{\$owl\_\-keys@{\$owl\_\-keys}!DataHandler@{DataHandler}}
\subsubsection[{\$owl\_\-keys}]{\setlength{\rightskip}{0pt plus 5cm}DataHandler::\$owl\_\-keys\hspace{0.3cm}{\ttfamily  [private]}}\label{classDataHandler_a8d398720bce975159b2d13ad7a941bc7}
Array with variable names that are used in WHERE clauses on updates \index{DataHandler@{DataHandler}!\$owl\_\-prepared@{\$owl\_\-prepared}}
\index{\$owl\_\-prepared@{\$owl\_\-prepared}!DataHandler@{DataHandler}}
\subsubsection[{\$owl\_\-prepared}]{\setlength{\rightskip}{0pt plus 5cm}DataHandler::\$owl\_\-prepared\hspace{0.3cm}{\ttfamily  [private]}}\label{classDataHandler_ae6093d21291ed3ab3183e11962452928}
Boolean that indicates of a query has been prepared \index{DataHandler@{DataHandler}!\$owl\_\-tablename@{\$owl\_\-tablename}}
\index{\$owl\_\-tablename@{\$owl\_\-tablename}!DataHandler@{DataHandler}}
\subsubsection[{\$owl\_\-tablename}]{\setlength{\rightskip}{0pt plus 5cm}DataHandler::\$owl\_\-tablename\hspace{0.3cm}{\ttfamily  [protected]}}\label{classDataHandler_a24620784bde262bdd02227962d3b9605}
All variable names are expected to be fields in a database as well. If a table name is not given, the default table name will be used. This is useful for datasets that come from only one database table. For datasets that are not read from or written to a database, the tablename can be null. \index{DataHandler@{DataHandler}!\$severity@{\$severity}}
\index{\$severity@{\$severity}!DataHandler@{DataHandler}}
\subsubsection[{\$severity}]{\setlength{\rightskip}{0pt plus 5cm}\_\-OWL::\$severity\hspace{0.3cm}{\ttfamily  [protected, inherited]}}\label{class__OWL_ad26b40a9dbbacb33e299b17826f8327c}
Severity level of the current object status 

The documentation for this class was generated from the following file:\begin{DoxyCompactItemize}
\item 
/home/oscar/projects/owl-\/php/src/kernel/so/{\bf class.datahandler.php}\end{DoxyCompactItemize}
